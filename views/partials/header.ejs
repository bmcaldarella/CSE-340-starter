<header id="top" class="site-header">
  <div class="container header-bar">
    <a class="brand" href="/" title="Home">CSE Motors</a>

    <!-- Main navigation comes from server as HTML -->

    <!-- Right-side user area -->
    <ul class="user-links">
      <%
        // Values provided by utilities.checkJWTToken middleware
        const isLoggedIn = typeof loggedin !== 'undefined' && !!loggedin;
        const acct = (typeof accountData !== 'undefined' && accountData) ? accountData : null;

        // Label to the LEFT of the auth link when logged in (as the task requests)
        // Defaults to 'Basic' if you don't have account_type/firstname.
        const welcomeLabel =
          (acct && (acct.account_type || acct.account_firstname)) || 'Basic';
      %>

      <% if (isLoggedIn) { %>
        <!-- Visible ONLY when logged in -->
        <li>
  <h2 class="user-login">Welcome <%= acct.account_firstname || "User" %></h2>
        </li>
        <li>
          <a href="/account/logout">Logout</a>
        </li>
      <% } else { %>
        <!-- Visible ONLY when NOT logged in -->
        <li>
          <a href="/account/login">My Account</a>
        </li>
      <% } %>
    </ul>
  </div>
</header>
